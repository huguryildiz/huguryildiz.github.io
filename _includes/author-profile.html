{% include base_path %}

{% if page.author and site.data.authors[page.author] %}
  {% assign author = site.data.authors[page.author] %}
{% else %}
  {% assign author = site.author %}
{% endif %}

<div itemscope itemtype="http://schema.org/Person">

  <div class="author__avatar">
    {% if author.avatar contains "://" %}
      <img src="{{ author.avatar }}" alt="{{ author.name }}" fetchpriority="high" />
    {% else %}
      <img src="{{ author.avatar | prepend: "/images/" | prepend: base_path }}" class="author__avatar" alt="{{ author.name }}" fetchpriority="high" />
    {% endif %}
  </div>

  <div class="author__content">
    <h3 class="author__name">{{ author.name }}</h3>
    {% if author.pronouns %}<p class="author__pronouns">{{ author.pronouns }}</p>{% endif %}
    {% if author.bio %}<p class="author__bio">{{ author.bio }}</p>{% endif %}
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>

    <ul class="author__urls social-icons">
      <!-- Biographic information -->
      {% if author.location %}
        <li class="author__desktop">
          <i class="fas fa-fw fa-location-dot icon-pad-right" aria-hidden="true"></i>{{ author.location }}
        </li>
      {% endif %}

      {% if author.employer %}
        <li class="author__desktop">
          <i class="fas fa-fw fa-building-columns icon-pad-right" aria-hidden="true"></i>{{ author.employer }}
        </li>
      {% endif %}

      {% if author.uri %}
        <li>
          <a href="{{ author.uri }}" rel="noopener noreferrer">
            <i class="fas fa-fw fa-link icon-pad-right" aria-hidden="true"></i>{{ site.data.ui-text[site.locale].website_label | default: "Website" }}
          </a>
        </li>
      {% endif %}

      {% if author.email %}
        <li>
          <a href="mailto:{{ author.email }}">
            <i class="fas fa-fw fa-envelope icon-pad-right" aria-hidden="true"></i>{{ site.data.ui-text[site.locale].email_label | default: "Email" }}
          </a>
        </li>
      {% endif %}

      <!-- Academic profiles -->
      {% if author.academia %}
        <li><a href="{{ author.academia }}" rel="noopener noreferrer"><i class="ai ai-academia ai-fw icon-pad-right" aria-hidden="true"></i>Academia</a></li>
      {% endif %}
      {% if author.arxiv %}
        <li><a href="{{ author.arxiv }}" rel="noopener noreferrer"><i class="ai ai-arxiv ai-fw icon-pad-right" aria-hidden="true"></i>arXiv</a></li>
      {% endif %}
      {% if author.googlescholar %}
        <li><a href="{{ author.googlescholar }}" rel="noopener noreferrer"><i class="ai ai-google-scholar ai-fw icon-pad-right" aria-hidden="true"></i>Google Scholar</a></li>
      {% endif %}
      {% if author.inspire-hep %}
        <li><a href="{{ author.inspire-hep }}" rel="noopener noreferrer"><i class="ai ai-inspire ai-fw icon-pad-right" aria-hidden="true"></i>INSPIRE-HEP</a></li>
      {% endif %}
      {% if author.impactstory %}
        <li><a href="{{ author.impactstory }}" rel="noopener noreferrer"><i class="ai ai-impactstory ai-fw icon-pad-right" aria-hidden="true"></i>Impactstory</a></li>
      {% endif %}
      {% if author.orcid %}
        <li><a href="{{ author.orcid }}" rel="noopener noreferrer"><i class="ai ai-orcid ai-fw icon-pad-right" aria-hidden="true"></i>ORCID</a></li>
      {% endif %}
      {% if author.pubmed %}
        <li><a href="{{ author.pubmed }}" rel="noopener noreferrer"><i class="ai ai-pubmed ai-fw icon-pad-right" aria-hidden="true"></i>PubMed</a></li>
      {% endif %}
      {% if author.researchgate %}
        <li><a href="{{ author.researchgate }}" rel="noopener noreferrer"><i class="fab fa-fw fa-researchgate icon-pad-right" aria-hidden="true"></i>ResearchGate</a></li>
      {% endif %}
      {% if author.scopus %}
        <li><a href="{{ author.scopus }}" rel="noopener noreferrer"><i class="ai ai-scopus ai-fw icon-pad-right" aria-hidden="true"></i>Scopus</a></li>
      {% endif %}
      {% if author.semantic %}
        <li><a href="{{ author.semantic }}" rel="noopener noreferrer"><i class="ai ai-semantic-scholar ai-fw icon-pad-right" aria-hidden="true"></i>Semantic Scholar</a></li>
      {% endif %}
      {% if author.ssrn %}
        <li><a href="{{ author.ssrn }}" rel="noopener noreferrer"><i class="ai ai-ssrn ai-fw icon-pad-right" aria-hidden="true"></i>SSRN</a></li>
      {% endif %}
      {% if author.zotero %}
        <li><a href="{{ author.zotero }}" rel="noopener noreferrer"><i class="ai ai-zotero ai-fw icon-pad-right" aria-hidden="true"></i>Zotero</a></li>
      {% endif %}

      <!-- Repositories -->
      {% if author.github %}
        <li><a href="https://github.com/{{ author.github }}" rel="noopener noreferrer"><i class="fab fa-fw fa-github icon-pad-right" aria-hidden="true"></i>GitHub</a></li>
      {% endif %}

      <!-- Social -->
      {% if author.linkedin %}
        <li><a href="https://www.linkedin.com/in/{{ author.linkedin }}" rel="noopener noreferrer"><i class="fab fa-fw fa-linkedin icon-pad-right" aria-hidden="true"></i>LinkedIn</a></li>
      {% endif %}

      <!-- Custom links from _config.yml: author.links -->
      {% if author.links %}
        {% for link in author.links %}
          {% assign icon_class = link.icon %}
          {% if icon_class contains "ai " or icon_class contains "ai-" %}
            {% assign fw = "ai-fw" %}
          {% else %}
            {% assign fw = "fa-fw" %}
          {% endif %}

          <li>
            <a href="{{ link.url }}" rel="noopener noreferrer">
              <i class="{{ icon_class }} {{ fw }} icon-pad-right" aria-hidden="true"></i>{{ link.label }}
            </a>
          </li>
        {% endfor %}
      {% endif %}

    </ul>
  </div>
</div>