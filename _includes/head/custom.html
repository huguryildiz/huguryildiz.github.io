{% include base_path %}

<!-- start custom head snippets -->

<!-- =========================
     Stylesheets (after theme)
     ========================= -->
<link rel="stylesheet" href="{{ '/assets/css/custom.css' | relative_url }}">
<link rel="stylesheet" href="{{ '/assets/css/supervision-stats.css' | relative_url }}">
<link rel="stylesheet" href="{{ '/assets/css/pub-chart.css' | relative_url }}">

<!-- =========================
     Scripts
     ========================= -->
<script defer src="{{ '/assets/js/pub-chart.js' | relative_url }}"></script>

<!-- =========================
     Academicons
     (Local + CDN fallback)
     ========================= -->
<link rel="stylesheet" href="{{ base_path }}/assets/css/academicons.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">

<!-- =========================
     Favicons (single source)
     ========================= -->
<link rel="icon" href="{{ '/images/favicons/favicon.ico?v=3' | relative_url }}">
<link rel="icon" type="image/svg+xml" href="{{ '/images/favicons/favicon.svg?v=3' | relative_url }}">
<link rel="apple-touch-icon" href="{{ '/images/favicons/apple-touch-icon.png?v=3' | relative_url }}">

<!-- =========================
     Mobile UI color
     ========================= -->
<meta name="theme-color" content="#061a2b">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

<!-- =========================
     Fonts
     ========================= -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Lora:wght@400;500;600;700&display=swap" rel="stylesheet">

<!-- =========================
     GoatCounter analytics
     ========================= -->
<script data-goatcounter="https://huguryildiz.goatcounter.com/count"
        async src="//gc.zgo.at/count.js"></script>

<!-- =========================================================
     Mobile nav fix:
     Put ALL menu items under hamburger on mobile
     - Greedy-nav only moves "overflow" items by default
     - This clones all visible links into hidden (hamburger) links
     ========================================================= -->
<script>
document.addEventListener("DOMContentLoaded", function () {
  var nav = document.querySelector(".greedy-nav");
  if (!nav) return;

  var visible = nav.querySelector(".visible-links");
  var hidden  = nav.querySelector(".hidden-links");
  var toggle  = nav.querySelector(".greedy-nav__toggle");

  if (!visible || !hidden || !toggle) return;

  // Build a combined list: visible + (original) hidden
  if (hidden.dataset.filled !== "1") {

    // snapshot originals BEFORE we mutate
    var vItems = Array.from(visible.children).map(function(li){ return li.cloneNode(true); });
    var hItems = Array.from(hidden.children).map(function(li){ return li.cloneNode(true); });

    // clear and rebuild hidden as "ALL items"
    hidden.innerHTML = "";

    // de-dup by link href (prevents duplicates)
    var seen = new Set();
    function appendIfNew(li){
      var a = li.querySelector("a");
      var href = a ? a.getAttribute("href") : li.textContent.trim();
      if (!href) return;
      if (seen.has(href)) return;
      seen.add(href);
      hidden.appendChild(li);
    }

    vItems.forEach(appendIfNew);
    hItems.forEach(appendIfNew);

    hidden.dataset.filled = "1";
  }

  // Your manual open/close behavior (keeps hamburger visible for you)
  toggle.addEventListener("click", function (e) {
    e.stopPropagation();
    hidden.classList.toggle("hidden");
  });

  document.addEventListener("click", function () {
    hidden.classList.add("hidden");
  });
});
</script>
<!-- end custom head snippets -->