<!-- =========================================================
     Custom Head Snippets
     Loaded after theme head
     ========================================================= -->



<!-- =========================
     Custom Stylesheets
     ========================= -->
<link rel="stylesheet" href="{{ '/assets/css/custom.css' | relative_url }}">
<link rel="stylesheet" href="{{ '/assets/css/supervision-stats.css' | relative_url }}">
<link rel="stylesheet" href="{{ '/assets/css/pub-chart.css' | relative_url }}">

<!-- =========================
     Chart.js (for donut charts)
     ========================= -->
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
<script defer src="{{ '/assets/js/pub-chart.js' | relative_url }}"></script>

<!-- =========================
     Academicons
     ========================= -->
<link rel="stylesheet" href="{{ '/assets/css/academicons.css' | relative_url }}">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">

<!-- =========================
     Favicons
     ========================= -->
<link rel="icon" href="{{ '/images/favicons/favicon.ico?v=3' | relative_url }}">
<link rel="icon" type="image/svg+xml" href="{{ '/images/favicons/favicon.svg?v=3' | relative_url }}">
<link rel="apple-touch-icon" href="{{ '/images/favicons/apple-touch-icon.png?v=3' | relative_url }}">

<!-- =========================
     Mobile Browser UI Color
     ========================= -->
<meta name="theme-color" content="#061a2b" media="(prefers-color-scheme: dark)">
<meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

<!-- =========================
     Google Fonts
     ========================= -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Lora:wght@400;500;600;700&display=swap" rel="stylesheet">

<!-- =========================
     GoatCounter Analytics
     ========================= -->
<script data-goatcounter="https://huguryildiz.goatcounter.com/count"
        async src="//gc.zgo.at/count.js"></script>

<!-- =========================
     Viewport (CRITICAL for mobile breakpoints)
     ========================= -->
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- =========================
     Theme toggle (Light/Dark)
     ========================= -->
<script>
(function () {
  const STORAGE_KEY = "theme"; // "dark" | "light"

  function updateIcon(theme) {
    const icon = document.getElementById("theme-icon");
    if (!icon) return;
    icon.classList.remove("fa-sun", "fa-moon");
    // Show target mode icon (better UX)
    icon.classList.add(theme === "dark" ? "fa-sun" : "fa-moon");
  }

  function applyTheme(theme) {
    const root = document.documentElement;
    root.classList.toggle("dark", theme === "dark");
    root.setAttribute("data-theme", theme);
    updateIcon(theme);
  }

  function getInitialTheme() {
    try {
      const saved = localStorage.getItem(STORAGE_KEY);
      if (saved === "dark" || saved === "light") return saved;
    } catch (e) {}
    const prefersDark = window.matchMedia &&
      window.matchMedia("(prefers-color-scheme: dark)").matches;
    return prefersDark ? "dark" : "light";
  }

  // Apply as early as possible
  applyTheme(getInitialTheme());

  document.addEventListener("DOMContentLoaded", function () {
    const btn = document.getElementById("theme-toggle");
    if (!btn) return;

    btn.addEventListener("click", function (e) {
      e.preventDefault();
      const isDark = document.documentElement.classList.contains("dark");
      const next = isDark ? "light" : "dark";
      try { localStorage.setItem(STORAGE_KEY, next); } catch (e) {}
      applyTheme(next);
    });
  });

  // Force greedy-nav to recompute after CSS/fonts load (fix hamburger)
  window.addEventListener("load", function () {
    window.dispatchEvent(new Event("resize"));
  });
})();
</script>        

<!-- =========================================================
     End Custom Head Snippets
     ========================================================= -->