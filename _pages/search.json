---
layout: null
permalink: /search.json
sitemap: false
---

[
{% assign first = true %}
{% for p in site.pages %}
  {% if p.title and p.url and p.search != false %}
    {% unless p.url contains ".json" %}
      {% unless p.url contains "/assets/" %}
        {% unless p.url contains "/404" %}
          {% if first == false %},{% endif %}
          {
            "title": {{ p.title | jsonify }},
            "url": {{ p.url | relative_url | jsonify }},
            "excerpt": {{ p.excerpt | strip_html | strip_newlines | truncate: 180 | jsonify }},
            "content": {{ p.content | strip_html | strip_newlines | jsonify }}
          }
          {% assign first = false %}
        {% endunless %}
      {% endunless %}
    {% endunless %}
  {% endif %}
{% endfor %}

{% for post in site.posts %}
  {% if post.title and post.url and post.search != false %}
    {% if first == false %},{% endif %}
    {
      "title": {{ post.title | jsonify }},
      "url": {{ post.url | relative_url | jsonify }},
      "excerpt": {{ post.excerpt | strip_html | strip_newlines | truncate: 180 | jsonify }},
      "content": {{ post.content | strip_html | strip_newlines | jsonify }}
    }
    {% assign first = false %}
  {% endif %}
{% endfor %}
]