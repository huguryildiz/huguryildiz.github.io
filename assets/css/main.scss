---
---
/*
 * ============================================================
 *  MAIN SCSS ENTRY FILE  (Minimal Mistakes Based Site)
 * ============================================================
 *
 *  This file controls what is imported from /_sass.
 *  IMPORTANT:
 *  - The first two lines (--- ---) are required by Jekyll.
 *  - Imports are processed in order.
 *  - Theme files are loaded before custom overrides.
 *
 *  This ensures that all custom CSS below overrides
 *  Minimal Mistakes defaults safely.
 */

/* ===============================
   Load custom partial first
   =============================== */
@import "custom";

/* ===============================
   Core Vendor + Theme Imports
   =============================== */
@import
    "vendor/breakpoint/breakpoint",

    /* Theme base (light & dark modes) */
    "themes",
    "theme/{{ site.site_theme | default: 'default' | append: '_light' }}",
    "theme/{{ site.site_theme | default: 'default' | append: '_dark' }}",

    "include/mixins",
    "vendor/susy/susy",

    /* Layout foundation */
    "layout/reset",
    "layout/base",

    "include/utilities",
    "layout/tables",
    "layout/buttons",
    "layout/notices",
    "layout/masthead",
    "layout/navigation",
    "layout/footer",
    "syntax",

    "layout/forms",

    /* Page structure */
    "layout/page",
    "layout/archive",
    "layout/sidebar",
    "layout/json_cv",

    /* Font Awesome */
    "vendor/font-awesome/fontawesome",
    "vendor/font-awesome/solid",
    "vendor/font-awesome/brands"
;


/* ============================================================
   1) GLOBAL CONTENT ALIGNMENT
   ============================================================ */

/*
 * Force justified alignment inside main content area.
 * Applies to paragraphs and list items.
 * !important ensures override over theme defaults.
 */
.page__content,
.page__content p,
.page__content li {
  text-align: justify !important;
}



/* ============================================================
   2) METRICS BADGES (Scopus, Google Scholar, OpenAlex etc.)
   ============================================================ */

/*
 * Badge wrapper container:
 * - Flexible layout
 * - Responsive wrapping
 * - Consistent spacing
 */
.metrics-badges {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
  align-items: center;
  margin: 1rem 0;
}

/*
 * Remove ALL default link styling inside metrics badges.
 * This prevents theme underlines or borders.
 */
.metrics-badges a {
  text-decoration: none !important;
  border: 0 !important;
  border-bottom: 0 !important;
  box-shadow: none !important;
  background: none !important;
  background-image: none !important;

  display: inline-flex;
  align-items: center;
  line-height: 0;
  padding: 0;
}

/* Ensure badge images render cleanly */
.metrics-badges img {
  display: block;
  border: none !important;
}

/* ============================================================
   3) RESEARCH AREAS (Chip / Tag Layout)
   ============================================================ */

/* Container spacing + reset typography to body text size */
.ra-container{
  margin-top: 1.25rem;

  /* KEY FIX: lock to normal content typography */
  font-family: inherit;
  font-size: 0.875rem;     /* prevents inheriting big heading sizes */
  line-height: 1.4;
}

.ra-section{ margin-bottom: 1.5rem; }

.ra-title{
  margin-bottom: .75rem;
  font-weight: 700;
  color: inherit;
}

.ra-section h2,
.ra-section h3,
.ra-section h4{ color: inherit; }

.ra-wrap{
  display: flex;
  flex-wrap: wrap;
  gap: .6rem;

  /* Explicitly normalized, not inherited */
  font-family: inherit;
  font-size: 0.875rem;
  line-height: 1.4;
}

.ra-chip{
  padding: .45rem 1rem;
  border-radius: 999px;

  /* Explicitly set to body text size, not inherited heading size */
  font-family: inherit;
  font-size: 0.875rem;
  line-height: 1.4;

  font-weight: 600;
  cursor: default;

  background: var(--ra-bg);
  border: 1px solid var(--ra-bd);
  color: var(--ra-fg);

  transition: transform .2s ease, box-shadow .2s ease, background .2s ease;
}

.ra-chip:hover{
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0,0,0,.08);
}

/* Color variants */
.ra-network  { --ra-bg:#dbeafe; --ra-bd:#93c5fd; --ra-fg:#1e40af; }
.ra-opt      { --ra-bg:#fed7aa; --ra-bd:#fdba74; --ra-fg:#c2410c; }
.ra-ai       { --ra-bg:#d1fae5; --ra-bd:#6ee7b7; --ra-fg:#065f46; }
.ra-quantum  { --ra-bg:#e9d5ff; --ra-bd:#c084fc; --ra-fg:#6b21a8; }


/* ============================================================
   4) FOOTER VISITORS (World Map Widget)
   ============================================================ */

/* Left-aligned visitor block */
.footer__visitors {
  margin-top: 1.5rem;
  text-align: left;
}

/* Small caption style */
.footer__visitors h4 {
  margin-bottom: .4rem;
  font-size: .85rem;
  font-weight: 600;
  opacity: .75;
}

/* Map container */
.footer__visitors-map {
  width: 160px;
  height: 160px;
  margin-left: 0;
  overflow: hidden;
}

/*
 * Scale embedded map content to fit container.
 * transform used instead of width/height override.
 */
.footer__visitors-map iframe,
.footer__visitors-map canvas,
.footer__visitors-map > div {
  transform: scale(0.7);
  transform-origin: top left;
}



/* ============================================================
   5) PUBLICATIONS DONUT CHARTS (Theme-Aligned)
   ============================================================ */

/* Inherit theme typography */
.qdonut-wrap,
.qdonut-svg text,
.qdonut-legend,
.pub-chart__title {
  font-family: inherit !important;
  color: inherit;
}

/* Chart title */
.pub-chart__title {
  font-size: inherit;
  font-weight: 600;
  margin-bottom: 0.75rem;
}

/* Legend */
.qdonut-legend {
  font-size: inherit;
  font-weight: normal;
  line-height: 1.4;
  margin-top: 0.75rem;
}

/* Chart segment numbers */
.qdonut-count {
  font-size: inherit;
  font-weight: normal;
  fill: #ffffff;
}

/* Central donut value */
.qdonut-total {
  font-size: 1.8em;
  font-weight: normal;
  fill: currentColor;
}

/* Donut subtitle */
.qdonut-sub {
  font-size: inherit;
  font-weight: normal;
  fill: currentColor;
  opacity: 0.8;
}

/* Legend color squares */
.qdonut-legend__swatch {
  width: 10px;
  height: 10px;
  border-radius: 3px;
}



/* ============================================================
   6) RESEARCH METRICS CARD
   Minimal + Theme Aware
   ============================================================ */

/* Card container */
.research-metrics {
  background-color: var(--mm-background-color, transparent);
  border: 1px solid var(--mm-border-color, rgba(0,0,0,0.08));
  border-radius: 10px;
  padding: 16px;
  margin: 20px 0;
}

/* Individual metric block */
.metric {
  display: inline-block;
  margin-right: 28px;
  margin-bottom: 6px;
}

/* Numeric value */
.metric-value {
  font-size: 1.7rem;
  font-weight: 600;
  color: var(--mm-text-color, currentColor);
  line-height: 1.2;
}

/* Label */
.metric-label {
  font-size: 0.85rem;
  opacity: 0.65;
  color: var(--mm-text-color, currentColor);
}



/* ============================================================
   7) Navigation Search Icon Styling
   ============================================================ */

/*
 * Makes the search navigation item
 * look like an icon button instead of plain text.
 */
.masthead__menu-item a[href$="/search/"] {
  font-size: 18px;
  padding: 8px 10px;
}



/* ============================================================
   8) HOME PAGE â€“ LinkedIn Embed (moved from inline <style>)
   ============================================================ */

/*
 * Responsive grid for embedded LinkedIn post(s).
 * Theme-aware border/background using Minimal Mistakes CSS vars.
 */
.linkedin-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 1rem;
  margin: 1.25rem 0;
}

.linkedin-card {
  border: 1px solid var(--mm-border-color, #e5e7eb);
  border-radius: 10px;
  background: var(--mm-background-color, #fff);
  overflow: hidden;
}

.linkedin-card iframe {
  width: 100%;
  height: 360px;
  border: none;
}